(()=>{"use strict";const t=function(){return null===JSON.parse(localStorage.getItem("taskList"))?[]:JSON.parse(localStorage.getItem("taskList"))};var e=document.querySelector(".to-do-list"),n=document.getElementById("toDoItem"),a=document.querySelector(".my-button"),i=function(){var e=t();e.forEach((function(t,e){t.index=e})),localStorage.setItem("taskList",JSON.stringify(e))},s=function(e,n){var a=t();a.forEach((function(t){t.index===parseInt(e,10)&&(t.completed=n)})),localStorage.setItem("taskList",JSON.stringify(a))},r=function(){e.innerHTML="",t().forEach((function(n){var a=function(e){var n=document.createElement("li");n.classList.add("to-do-pop"),n.dataset.id=e.index;var a=document.createElement("input");a.setAttribute("type","checkbox"),a.classList.add("my-checkbox"),a.dataset.complete_list=e.index,n.appendChild(a),a.addEventListener("click",(function(t){var e=t.target.dataset.complete_list;!0===a.checked?(s(e,!0),i()):(s(e,!1),i())}));var o=document.createElement("INPUT");o.setAttribute("type","input"),o.setAttribute("readonly",!0),o.setAttribute("value",e.description),o.classList.add("to-do-input"),o.dataset.complete_list=e.index,n.appendChild(o),o.addEventListener("click",(function(e){o.removeAttribute("readonly");var n=e.target.dataset.complete_list;o.addEventListener("change",(function(){var e=o.value;!function(e,n){var a=t();a.forEach((function(t){t.index===parseInt(e,10)&&(t.description=n)})),localStorage.setItem("taskList",JSON.stringify(a))}(n,e),i(),o.setAttribute("readonly",!0)}))}));var c=document.createElement("i");return c.classList.add("fa-solid"),c.id=e.index,c.classList.add("fa-ellipsis-vertical"),c.addEventListener("click",(function(e){var n,a;e.preventDefault(),c.classList.contains("fa-trash-can")?(c.parentElement.remove(),n=e.target.id,a=t().filter((function(t){return t.index!==parseInt(n,10)})),localStorage.setItem("taskList",JSON.stringify(a)),i(),r()):(c.classList.remove("fa-ellipsis-vertical"),c.classList.add("fa-trash-can"),i())})),n.appendChild(c),n}(n);e.appendChild(a)}))},o=function(){n.value=""},c=function(e){var n=t();n.push(e),localStorage.setItem("taskList",JSON.stringify(n))};n.addEventListener("keydown",(function(e){var a;"Enter"===e.key&&(a=t(),n.value&&function(t){c({completed:arguments.length>1&&void 0!==arguments[1]&&arguments[1],index:arguments.length>2?arguments[2]:void 0,description:t}),i(),r(),o()}(n.value,!1,a.length))})),a.addEventListener("click",(function(){var e;e=t().filter((function(t){return!1===t.completed})),localStorage.setItem("taskList",JSON.stringify(e)),i(),r()})),window.addEventListener("load",(function(){var e;(e=t()).forEach((function(t){t.completed=!1})),localStorage.setItem("taskList",JSON.stringify(e)),i(),r()}))})();